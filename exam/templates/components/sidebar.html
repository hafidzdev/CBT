<aside class="sidebar w-64 bg-blue-800 text-white flex flex-col">

  <!-- Logo -->
  <div class="p-6 border-b border-blue-700">
    <h1 class="text-2xl font-bold text-white">
      <i class="fas fa-graduation-cap mr-2"></i>
      CBT System
    </h1>
    <p class="text-blue-200 text-sm mt-1">
      {% if request.user.user_type == 'student' %}
        <span class="text-sm text-gray-400">Student Portal</span>
      {% elif request.user.user_type == 'teacher' %}
        <span class="text-sm text-gray-400">Teacher Portal</span>
      {% else %}
        <span class="text-sm text-gray-400">Admin Portal</span>
      {% endif %}
    </p>
  </div>

  <!-- User Info -->
  <div class="p-4 border-b border-blue-700">
    <div class="flex items-center space-x-3">
      <div class="w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center">
        <i class="fas fa-user text-white"></i>
      </div>
      <div class="flex-1 min-w-0">
        <p class="font-semibold text-white truncate">
          {{ request.user.get_full_name|default:request.user.username }}
        </p>
        <p class="text-blue-200 text-xs truncate">
          {{ request.user.department.name|default:request.user.get_user_type_display }}
        </p>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="flex-1 p-4 space-y-2">

    {% if request.user.user_type == 'student' %}

      <a href="{% url 'exam:student_dashboard' %}"
         class="flex items-center space-x-3 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition duration-200
         {% if request.resolver_match.url_name == 'student_dashboard' %}bg-blue-700{% endif %}">
        <i class="fas fa-tachometer-alt w-5"></i><span>Dashboard</span>
      </a>

      <a href="{% url 'exam:my_exams' %}"
         class="flex items-center space-x-3 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition duration-200
         {% if request.resolver_match.url_name == 'my_exams' %}bg-blue-700{% endif %}">
        <i class="fas fa-key w-5"></i><span>Exam Access</span>
      </a>

      <a href="#"
         class="flex items-center space-x-3 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition duration-200">
        <i class="fas fa-history w-5"></i><span>Exam History</span>
      </a>

      <a href="{% url 'exam:student_results' %}"
         class="flex items-center space-x-3 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition duration-200">
        <i class="fas fa-chart-bar w-5"></i><span>Results</span>
      </a>

    {% elif request.user.user_type == 'teacher' %}

      <a href="{% url 'exam:teacher_dashboard' %}"
         class="flex items-center space-x-3 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition duration-200
         {% if request.resolver_match.url_name == 'teacher_dashboard' %}bg-blue-700{% endif %}">
        <i class="fas fa-tachometer-alt w-5"></i><span>Dashboard</span>
      </a>

    {% else %} {# ADMIN #}

      <a href="{% url 'exam:admin_panel' %}"
         class="flex items-center space-x-3 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition duration-200
         {% if request.resolver_match.url_name == 'admin_panel' %}bg-blue-700{% endif %}">
        <i class="fas fa-tachometer-alt w-5"></i><span>Dashboard</span>
      </a>

      <a href="{% url 'exam:admin_user_list' %}"
         class="flex items-center space-x-3 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition duration-200
         {% if request.resolver_match.url_name == 'admin_user_list' %}bg-blue-700{% endif %}">
        <i class="fas fa-user-alt w-5"></i><span>User Management</span>
      </a>

    {% endif %}

    <a href="#"
       class="flex items-center space-x-3 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition duration-200">
      <i class="fas fa-cog w-5"></i><span>Settings</span>
    </a>

  </nav>

</aside>
