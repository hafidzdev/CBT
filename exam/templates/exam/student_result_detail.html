{% extends 'base.html' %}
{% block title %}Exam Result{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto mt-8">

    <div class="bg-white p-6 rounded-xl shadow mb-6">
        <h1 class="text-2xl font-bold">{{ session.exam.title }}</h1>
        <p class="text-gray-600">{{ session.start_time|date:"M d, H:i" }} â†’ {{ session.end_time|date:"M d, H:i" }}</p>

        <div class="mt-4 flex justify-between text-lg">
            <span>Score:</span>
            <span class="font-bold 
                {% if session.score >= session.exam.passing_score %}text-green-600{% else %}text-red-600{% endif %}">
                {{ session.score }}%
            </span>
        </div>
    </div>


    <div class="bg-white p-6 rounded-xl shadow space-y-4">
        <h2 class="font-semibold text-xl">Your Answers</h2>

        {% for ans in answers %}
        <div class="border p-4 rounded-lg">
            <p class="font-medium">{{ forloop.counter }}. {{ ans.question.text }}</p>

            <p class="mt-1 text-sm">
                Your Answer: 
                <span class="font-semibold">{{ ans.chosen_answer_text }}</span>
            </p>

            {% if ans.is_correct %}
            <p class="text-green-600 text-sm font-semibold">Correct</p>
            {% else %}
            <p class="text-red-600 text-sm font-semibold">Incorrect</p>
            {% endif %}
        </div>
        {% endfor %}
    </div>

</div>
{% endblock %}
