{% extends "admin/base_site.html" %}
{% load static %}

{% block content %}

<div class="user-edit-wrapper">
  <div class="user-edit-card">

    <h2 class="title">Create User</h2>

    <!-- ✅ Error Global -->
    <!-- {% if form.errors %}
    <div class="error-box">
      <ul>
        {% for field, errors in form.errors.items %}
          {% for error in errors %}
            <li>{{ error }}</li>
          {% endfor %}
        {% endfor %}
      </ul>
    </div>
    {% endif %} -->

    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}

      <div class="form-group">
        <label>Username</label>
        {{ form.username }}
        {% if form.username.errors %}
          <p class="field-error">{{ form.username.errors.0 }}</p>
        {% endif %}
      </div>

      <div class="form-group">
        <label>Password</label>
        {{ form.password1 }}
        {% if form.password1.errors %}
          <p class="field-error">{{ form.password1.errors.0 }}</p>
        {% endif %}
      </div>

      <div class="form-group">
        <label>Confirm Password</label>
        {{ form.password2 }}
        {% if form.password2.errors %}
          <p class="field-error">{{ form.password2.errors.0 }}</p>
        {% endif %}
      </div>

      <div class="form-group">
        <label>First Name</label>
        {{ form.first_name }}
      </div>

      <div class="form-group">
        <label>Last Name</label>
        {{ form.last_name }}
      </div>

      <div class="form-group">
        <label>Email</label>
        {{ form.email }}
        {% if form.email.errors %}
          <p class="field-error">{{ form.email.errors.0 }}</p>
        {% endif %}
      </div>

      <div class="form-group">
        <label>Phone</label>
        {{ form.phone }}
      </div>

      <div class="form-group">
        <label>Date of Birth</label>
        {{ form.date_of_birth }}
      </div>

      <div class="form-group">
        <label>Profile Picture</label>
        {{ form.profile_picture }}
      </div>

      <div class="form-group">
        <label>User Type</label>
        {{ form.user_type }}
      </div>

      <button type="submit" class="save-btn">
        Create User
      </button>

    </form>

  </div>
</div>

<style>

.user-edit-wrapper {
  max-width: 900px;
  width: 100%;
  margin: 60px auto;
  padding: 0 20px;
}

.user-edit-card {
  background: white;
  padding: 40px 48px;
  border-radius: 14px;
  box-shadow: 0 8px 28px rgba(0,0,0,0.08);
}

/* ✅ input & select lebar penuh */
input, select {
  width: 100% !important;
  padding: 12px 14px !important;
  border: 1px solid #d1d5db !important;
  border-radius: 8px !important;
  background: #fafafa !important;
  font-size: 15px;
  display: block;
}

/* ✅ GLOBAL ERROR BOX */
.error-box {
  background: #ffe6e6;
  border-left: 4px solid #dc2626;
  padding: 12px 16px;
  border-radius: 6px;
  color: #b91c1c;
  margin-bottom: 20px;
  font-weight: 600;
}

/* ✅ Per Field Error */
.field-error {
  color: #dc2626;
  font-size: 14px;
  margin-top: 4px;
}

.title {
  text-align: center;
  font-size: 28px;
  font-weight: 700;
  margin-bottom: 30px;
  color: #111827;
}

.form-group {
  margin-bottom: 18px;
}

label {
  display: block;
  font-weight: 600;
  margin-bottom: 6px;
  color: #374151;
}

.save-btn {
  width: 100%;
  padding: 13px;
  border-radius: 8px;
  font-weight: 600;
  background: #2563eb;
  color: white;
  text-align: center;
}

.save-btn:hover {
  background: #1e40af;
}

</style>

{% endblock %}
